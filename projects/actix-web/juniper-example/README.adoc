=== Set up a new project
. Set up a new project, and go to the projects directory.
+
[source,console]
----
$ cargo new --bin juniper-example
     Created binary (application) `juniper-example` package
$ cd juniper-example/
----

=== Build

[source,shell]
----
cargo build
----

=== Run server

1. Set environment variable.(Optional)
+
[source,shell]
----
export RUST_LOG="actix_web=info"
----

2. Run server
+
[source,shell]
----
cargo run
----

3. Query a graphql request to server:
+
[source,graphql]
----
{
  human(id: "1234") {
    name
    appearsIn
    homePlanet
  }
}
----

=== Test the server

==== Test GraphiQL UI

. Open with browser
+
[source,plaintext]
----
http://127.0.0.1:8080/graphiql
----

. Input query
+
[source,plaintext]
----
{human(id: "1234") {name appearsIn homePlanet}}
----

==== Test: GraphQL API with curl on Linux/MacOS

1. Use curl to send a POST request to `http://127.0.0.1:8080/graphql`
+
[source,shell]
----
curl -X POST -H "Content-Type: application/json" -d "{\"query\": \"{human(id: \\\"1234\\\") {name appearsIn homePlanet}}\"}" http://127.0.0.1:8080/graphql | jq
----

2. Expected output:
+
[source,json]
----
{
  "data": {
    "human": {
      "name": "Luke",
      "appearsIn": [
        "NEW_HOPE"
      ],
      "homePlanet": "Mars"
    }
  }
}
----

==== Test: Query GraphQL Request on Windows

* PowerShell
+
[source,powershell]
----
Invoke-WebRequest -Method POST -Header @{"Content-Type" = "application/json"} -ContentType 'application/json' -Body '{"query": "{human(id: \"1234\") {name appearsIn homePlanet}}"}' http://127.0.0.1:8080/graphql
----

=== References
* https://github.com/actix/examples/tree/master/graphql/juniper[examples/graphql/juniper at master Â· actix/examples^]
